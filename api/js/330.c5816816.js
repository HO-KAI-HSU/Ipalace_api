"use strict";(self["webpackChunknpm_frontend"]=self["webpackChunknpm_frontend"]||[]).push([[330],{8330:function(s,e,a){a.r(e),a.d(e,{default:function(){return n}});var r=function(){var s=this,e=s._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"registerBox"},[e("div",{staticClass:"unLogin"},[s._m(0),e("h2",[s._v("請修改密碼")]),e("div",{staticClass:"formRow"},[e("h3",[s._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.User.Email,expression:"User.Email"}],attrs:{id:"email",type:"email",name:"",value:"",placeholder:"請輸入您的email同時為帳號",required:""},domProps:{value:s.User.Email},on:{input:function(e){e.target.composing||s.$set(s.User,"Email",e.target.value)}}})]),s.User.OpenID?s._e():e("div",{staticClass:"formRow"},[e("h3",[s._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.User.Password,expression:"User.Password"}],attrs:{id:"password1",type:"password",name:"",value:"",required:"",placeholder:"請輸入您原來的密碼"},domProps:{value:s.User.Password},on:{input:function(e){e.target.composing||s.$set(s.User,"Password",e.target.value)}}})]),e("div",{staticClass:"formRow"},[e("h3",[s._v("確認密碼 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.User.Password2,expression:"User.Password2"}],attrs:{id:"password2",type:"password",name:"",value:"",required:"",placeholder:"請輸入新密碼"},domProps:{value:s.User.Password2},on:{input:function(e){e.target.composing||s.$set(s.User,"Password2",e.target.value)}}})]),e("div",{staticClass:"formRow"},[e("h3",[s._v("確認密碼 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.User.Password3,expression:"User.Password3"}],attrs:{id:"password3",type:"password",name:"",value:"",required:"",placeholder:"請再次輸入新密碼"},domProps:{value:s.User.Password3},on:{input:function(e){e.target.composing||s.$set(s.User,"Password3",e.target.value)}}})]),e("div",{staticClass:"submitBtn"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:s.register}},[s._v("修改")])])])])])},t=[function(){var s=this,e=s._self._c;return e("div",{staticClass:"doll"},[e("img",{attrs:{src:"/img/doll.png"}})])}],i={data(){return{User:{Email:"",Password:"",Password2:"",Password3:""}}},async mounted(){this.setBase("register");var s=await this.$api.getMe();this.User.Email=s.Email,this.User.Name=s.Name},methods:{async register(){if(this.validate(".registerBox"))if(this.User.Password2==this.User.Password3)if(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(this.User.Password2))try{await this.$api.updatePassword({Email:this.User.Email,OldPassword:this.User.Password,NewPassword:this.User.Password2});alert("修改成功，請用新密碼登入"),this.$router.replace("/login")}catch(s){console.error(s),4==s.Status&&alert("此帳號已註冊過")}else alert("密碼設定需包含8位以上的英文大小寫+數字");else alert("兩次密碼不一致，請重新輸入！")}}},o=i,d=a(1001),l=(0,d.Z)(o,r,t,!1,null,null,null),n=l.exports}}]);
//# sourceMappingURL=330.c5816816.js.map