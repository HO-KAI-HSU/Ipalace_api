"use strict";(self["webpackChunknpm_frontend"]=self["webpackChunknpm_frontend"]||[]).push([[781],{781:function(e,s,a){a.r(s),a.d(s,{default:function(){return d}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"container"},[s("div",{staticClass:"registerBox"},[s("div",{staticClass:"unLogin"},[e._m(0),s("h2",[e._v("編輯個人資料")]),s("div",{staticClass:"formRow"},[s("h3",[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.Email,expression:"User.Email"}],attrs:{id:"email",type:"email",name:"",value:"",placeholder:"請輸入您的email同時為帳號",required:"",disabled:e.User.OpenID},domProps:{value:e.User.Email},on:{input:function(s){s.target.composing||e.$set(e.User,"Email",s.target.value)}}})]),s("div",{staticClass:"formRow"},[s("h3",[e._v("姓名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.Name,expression:"User.Name"}],attrs:{id:"name",type:"text",name:"",value:"",disabled:e.User.OpenID,placeholder:"請輸入您的姓名",required:""},domProps:{value:e.User.Name},on:{input:function(s){s.target.composing||e.$set(e.User,"Name",s.target.value)}}})]),e.User.OpenID?e._e():s("div",{staticClass:"formRow"},[s("h3",[e._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.Password,expression:"User.Password"}],attrs:{id:"password1",type:"password",name:"",value:"",placeholder:"如不修改請留空白"},domProps:{value:e.User.Password},on:{input:function(s){s.target.composing||e.$set(e.User,"Password",s.target.value)}}})]),e.User.OpenID?s("div",{staticClass:"formRow"},[s("h3",[e._v("密碼")]),s("input",{attrs:{id:"password2",type:"password",disabled:"",name:"",value:""}}),s("span",[e._v("請到教育雲進行修改")])]):s("div",{staticClass:"formRow"},[s("h3",[e._v("確認密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.Password2,expression:"User.Password2"}],attrs:{id:"password2",type:"password",name:"",value:"",placeholder:"再次輸入密碼，如不修改請留空白"},domProps:{value:e.User.Password2},on:{input:function(s){s.target.composing||e.$set(e.User,"Password2",s.target.value)}}})]),s("div",{staticClass:"formRow"},[s("h3",[e._v("手機")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.Mobile,expression:"User.Mobile"}],attrs:{id:"mobile",type:"tel",name:"",value:"",placeholder:"09xxxxxxxx"},domProps:{value:e.User.Mobile},on:{input:function(s){s.target.composing||e.$set(e.User,"Mobile",s.target.value)}}}),s("span",[e._v("海外使用者請輸入+國碼手機號碼(如+8869xxxxxxxx)")])]),e.User.OpenID?e._e():s("div",{staticClass:"submitBtn"},[s("a",{attrs:{href:"javascript:void(0);"},on:{click:e.register}},[e._v("修改")])])])])])},r=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"doll"},[s("img",{attrs:{src:"/img/doll.png"}})])}],i={data(){return{User:{Email:"",Name:"",Password:"",Password2:"",Mobile:"",OpenID:""}}},async mounted(){this.setBase("register");var e=await this.$api.getMe();this.User.Email=e.Email,this.User.Name=e.Name,this.User.Mobile=e.Mobile,this.User.OpenID=e.OpenID},methods:{async register(){if(this.validate(".registerBox"))if(this.User.Password==this.User.Password2)if(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(this.User.Password2))try{await this.$api.updateMe(this.User);var e=this.$user.user;e.Name=this.User.Name,this.$user.setUser(e),this.$router.replace("/")}catch(s){console.error(s),4==s.Status&&alert("此帳號已註冊過")}else alert("密碼設定需包含8位以上的英文大小寫+數字");else alert("兩次密碼不一致，請重新輸入！")}}},o=i,l=a(1001),n=(0,l.Z)(o,t,r,!1,null,null,null),d=n.exports}}]);
//# sourceMappingURL=781.c3dbb324.js.map