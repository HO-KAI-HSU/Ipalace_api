"use strict";(self["webpackChunknpm_frontend"]=self["webpackChunknpm_frontend"]||[]).push([[780],{5780:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"registerBox"},[e("div",{staticClass:"unLogin verifyContent"},[t._m(0),e("h2",[t._v("忘記密碼")]),e("p",[t._v("請輸入以下資訊來重新設定密碼")]),e("div",{staticClass:"formRow"},[e("h3",[t._v("Email *")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Email,expression:"Email"}],attrs:{id:"email",type:"email",required:"",placeholder:"請輸入您的email帳號"},domProps:{value:t.Email},on:{input:function(e){e.target.composing||(t.Email=e.target.value)}}})]),e("div",{staticClass:"formRow"},[e("h3",[t._v("驗證碼 *")]),e("div",{staticClass:"verify"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.AuthCode,expression:"AuthCode"}],attrs:{id:"verifycode",type:"number",required:""},domProps:{value:t.AuthCode},on:{input:function(e){e.target.composing||(t.AuthCode=e.target.value)}}}),t.Captcha?e("img",{attrs:{src:t.Captcha.Image,alt:""},on:{click:t.load}}):t._e()])]),t.Sent?e("p",[t._v("密碼重設驗證已發送，請至您的信箱收信")]):t._e(),t.CanSend?e("div",{staticClass:"submitBtn"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:t.login}},[t._v("發送驗證信")])]):e("div",{staticClass:"waitting"},[e("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.TimeToSend)+"秒後可重新發送驗證信")])])])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"doll"},[e("img",{attrs:{src:"/img/doll.png"}})])}];const n=60;var r={data(){return{Email:"",AuthCode:"",Captcha:null,CanSend:!0,Sent:!1,TimeToSend:n}},mounted(){this.setBase("register page"),this.load()},methods:{async load(){this.Captcha=await this.$api.getCaptcha()},async login(){if(this.CanSend&&this.validate(".registerBox"))try{await this.$api.sendForgetPassword({Email:this.Email,AuthCode:this.AuthCode,Secret:this.Captcha.Secret});this.Sent=!0,this.TimeToSend=n,this.CanSend=!1;var t=()=>{this.TimeToSend--,this.TimeToSend>0?setTimeout(t,1e3):this.CanSend=!0};setTimeout(t,1e3),this.load(),this.AuthCode=""}catch(e){console.error(e),9==e.Status?alert("驗證碼錯誤，請重新輸入"):3==e.Status?alert("查無此帳號"):14==e.Status?alert("請到教育雲進行修改"):alert("登入失敗，帳號或密碼錯誤")}}}},o=r,l=a(1001),d=(0,l.Z)(o,i,s,!1,null,null,null),c=d.exports}}]);
//# sourceMappingURL=780.8f3b445f.js.map