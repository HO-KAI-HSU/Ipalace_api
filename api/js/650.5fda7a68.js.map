{"version":3,"file":"js/650.5fda7a68.js","mappings":"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","sources":["webpack://npm.frontend/./src/components/Recommand.vue","webpack://npm.frontend/src/components/Recommand.vue","webpack://npm.frontend/./src/components/Recommand.vue?0ab3","webpack://npm.frontend/./src/components/Recommand.vue?f47b","webpack://npm.frontend/./src/views/Lesson.vue","webpack://npm.frontend/src/views/Lesson.vue","webpack://npm.frontend/./src/views/Lesson.vue?4f76","webpack://npm.frontend/./src/views/Lesson.vue?4599"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"row refCourse\"},[_c('div',{staticClass:\"container\"},[_c('h4',[_vm._v(\"推薦課程\")]),_c('LessonSlider',{attrs:{\"loader\":_vm.load}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main\">\r\n    <div class=\"row refCourse\">\r\n      <div class=\"container\">\r\n        <h4>推薦課程</h4>\r\n        <LessonSlider :loader=\"load\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport LessonSlider from \"@/components/LessonSlider.vue\";\r\nexport default {\r\n  components: {\r\n    LessonSlider,\r\n  },\r\n  methods: {\r\n    load() {\r\n      return this.$api.getRecommand();\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Recommand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Recommand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recommand.vue?vue&type=template&id=27d8e424&\"\nimport script from \"./Recommand.vue?vue&type=script&lang=js&\"\nexport * from \"./Recommand.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.Lesson)?_c('div',{staticClass:\"courseVideo\"},[_c('div',{staticClass:\"videoContent\",attrs:{\"id\":\"vid-cont\"}},[_c('video',{attrs:{\"src\":_vm._f(\"imageCDN\")(_vm.FirstChapter.VideoUrl),\"controls\":\"\",\"width\":\"100%\"},on:{\"play\":_vm.onplay,\"pause\":_vm.onpause,\"timeupdate\":_vm.onprogress,\"ended\":_vm.onended}}),_c('div',{staticClass:\"backToCourse\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.fullscreen}},[_vm._v(\"返回課程\")])]),_c('div',{staticClass:\"fullscreen-button\",on:{\"click\":_vm.fullscreen}},[_c('img',{attrs:{\"src\":\"/img/fullscreen.svg\"}})]),_c('div',{staticClass:\"className\"},[_vm._v(_vm._s(_vm.FirstChapter.ChapterName))]),(!_vm.User)?_c('div',{staticClass:\"blockVideo\",on:{\"click\":_vm.login}}):_vm._e()]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"courseContent\"},[_c('div',{staticClass:\"c_title courseInfo\"},[_c('img',{staticClass:\"doll\",attrs:{\"src\":\"/img/doll.png\"}}),(_vm.Lesson.LessonCategoryID== 1)?_c('div',{staticClass:\"cateTag\"},[_vm._v(\"師培課程\")]):_c('div',{staticClass:\"cateTag\"},[_vm._v(\"學生課程\")]),_c('div',{staticClass:\"time\"},[_c('img',{attrs:{\"src\":\"/img/action.png\"}}),_vm._v(_vm._s(_vm._f(\"chhmmss\")(_vm.Lesson.VideoLength))+\" \")])]),_c('h3',[_vm._v(_vm._s(_vm.Lesson.LessonName))]),(_vm.$user.user)?_c('div',{staticClass:\"c_student\"},[_c('h4',[_vm._v(\"課程章節\")]),_c('div',{staticClass:\"contentBox\"},[(_vm.Lesson.HasChapterSubject)?_c('div',{staticClass:\"chapters\"},[_c('h5',[_vm._v(_vm._s(_vm.Lesson.ChapterTitle))]),_vm._l((_vm.Subjects),function(s,si){return [_c('h6',{key:s.ID},[_vm._v(_vm._s(s.Name))]),_c('div',{key:s.ID,staticClass:\"ch_list\"},[_c('ol',_vm._l((s.Chapters),function(c,i){return _c('li',{key:c.LessonChapterID,class:{ act: i == 0 && si == 0 }},[_c('router-link',{attrs:{\"to\":`/lesson/chapter/${c.LessonChapterID}`}},[_c('b',{staticClass:\"ch_name\"},[_vm._v(_vm._s(c.ChapterName)+\" \"),(c.Learned)?[_vm._v(\"(已觀看)\")]:_vm._e()],2),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"mmss\")(c.VideoLength)))])])],1)}),0)])]})],2):_c('div',{staticClass:\"chapters\"},[_c('h5',[_vm._v(_vm._s(_vm.Lesson.ChapterTitle))]),_c('div',{staticClass:\"ch_list\"},[_c('ol',_vm._l((_vm.Chapters),function(c,i){return _c('li',{key:c.LessonChapterID,class:{ act: i == 0 }},[_c('router-link',{attrs:{\"to\":`/lesson/chapter/${c.LessonChapterID}`}},[_c('b',{staticClass:\"ch_name\"},[_vm._v(_vm._s(c.ChapterName))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"mmss\")(c.VideoLength)))])])],1)}),0)])])])]):_vm._e(),_c('div',{staticClass:\"c_intro\"},[_c('h4',[_vm._v(\"課程簡介\")]),_c('div',{staticClass:\"contentBox\",domProps:{\"innerHTML\":_vm._s(_vm.Lesson.Brief)}})]),_c('div',{staticClass:\"c_target\"},[_c('h4',[_vm._v(\"課程目標\")]),_c('div',{staticClass:\"contentBox\",domProps:{\"innerHTML\":_vm._s(_vm.Lesson.Goal)}})]),_c('div',{staticClass:\"c_student\"},[_c('h4',[_vm._v(\"課程對象\")]),_c('div',{staticClass:\"contentBox\",domProps:{\"innerHTML\":_vm._s(_vm.Lesson.Target)}})]),(!_vm.$user.user)?_c('div',{staticClass:\"c_student\"},[_c('h4',[_vm._v(\"課程章節\")]),_c('div',{staticClass:\"contentBox\"},[(_vm.Lesson.HasChapterSubject)?_c('div',{staticClass:\"chapters\"},[_c('h5',[_vm._v(_vm._s(_vm.Lesson.ChapterTitle))]),_vm._l((_vm.Subjects),function(s,si){return [_c('h6',{key:s.ID},[_vm._v(_vm._s(s.Name))]),_c('div',{key:s.ID,staticClass:\"ch_list\"},[_c('ol',_vm._l((s.Chapters),function(c,i){return _c('li',{key:c.LessonChapterID,class:{ act: i == 0 && si == 0 }},[_c('router-link',{attrs:{\"to\":`/lesson/chapter/${c.LessonChapterID}`}},[_c('b',{staticClass:\"ch_name\"},[_vm._v(_vm._s(c.ChapterName))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"mmss\")(c.VideoLength)))])])],1)}),0)])]})],2):_c('div',{staticClass:\"chapters\"},[_c('h5',[_vm._v(_vm._s(_vm.Lesson.ChapterTitle))]),_c('div',{staticClass:\"ch_list\"},[_c('ol',_vm._l((_vm.Chapters),function(c,i){return _c('li',{key:c.LessonChapterID,class:{ act: i == 0 }},[_c('router-link',{attrs:{\"to\":`/lesson/chapter/${c.LessonChapterID}`}},[_c('b',{staticClass:\"ch_name\"},[_vm._v(_vm._s(c.ChapterName))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"mmss\")(c.VideoLength)))])])],1)}),0)])])])]):_vm._e(),_c('div',{staticClass:\"shareBox\"},[_c('p',[_vm._v(\"課程分享\")]),_c('div',{staticClass:\"shareLinks\"},[_c('a',{attrs:{\"href\":'http://www.facebook.com/share.php?u='+_vm.ShareUrl,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":\"/img/icon_fb.png\",\"alt\":\"\"}})]),(false)?_c('a',{attrs:{\"href\":'http://www.facebook.com/share.php?u='+_vm.ShareUrl,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":\"/img/icon_ig.png\",\"alt\":\"\"}})]):_vm._e(),_c('a',{attrs:{\"href\":'https://social-plugins.line.me/lineit/share?url='+_vm.ShareUrl,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":\"/img/icon_line.png\",\"alt\":\"\"}})])])])])])]):_vm._e(),_c('Recommand'),(_vm.Student && _vm.Student.IsLearning)?_c('div',{staticClass:\"fixBottom\"},[_c('div',{staticClass:\"container\"},[_c('router-link',{class:{ off: !_vm.Student.Prev },attrs:{\"to\":`/lesson/${_vm.Student.Prev}`}},[_vm._v(\"上一堂課\")]),(_vm.HasHomeWork && _vm.Progress == 100)?_c('router-link',{staticClass:\"goWork\",attrs:{\"to\":`/homework/${_vm.Lesson.LessonID}`}},[_vm._v(\"課程習題\")]):_vm._e(),_c('router-link',{class:{ off: !_vm.Student.Next },attrs:{\"to\":`/lesson/${_vm.Student.Next}`}},[_vm._v(\"下一堂課\")])],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"courseVideo\" v-if=\"Lesson\">\r\n      <div class=\"videoContent\" id=\"vid-cont\">\r\n        <video\r\n          :src=\"FirstChapter.VideoUrl | imageCDN\"\r\n          controls\r\n          width=\"100%\"\r\n          @play=\"onplay\"\r\n          @pause=\"onpause\"\r\n          @timeupdate=\"onprogress\"\r\n          @ended=\"onended\"\r\n        ></video>\r\n        <div class=\"backToCourse\">\r\n          <a href=\"javascript:void(0)\" @click=\"fullscreen\">返回課程</a>\r\n        </div>\r\n        <div class=\"fullscreen-button\" @click=\"fullscreen\">\r\n          <img src=\"/img/fullscreen.svg\" />\r\n        </div>\r\n        <div class=\"className\">{{ FirstChapter.ChapterName }}</div>\r\n        <div class=\"blockVideo\" v-if=\"!User\" @click=\"login\"></div>\r\n      </div>\r\n      <div class=\"container\">\r\n        <div class=\"courseContent\">\r\n          <div class=\"c_title courseInfo\">\r\n            <img class=\"doll\" src=\"/img/doll.png\" />\r\n            <div class=\"cateTag\" v-if=\"Lesson.LessonCategoryID== 1\">師培課程</div>\r\n            <div class=\"cateTag\" v-else>學生課程</div>\r\n            <div class=\"time\">\r\n              <img src=\"/img/action.png\" />{{ Lesson.VideoLength | chhmmss }}\r\n            </div>\r\n          </div>\r\n          <h3>{{ Lesson.LessonName }}</h3>\r\n\r\n          <div class=\"c_student\" v-if=\"$user.user\">\r\n            <h4>課程章節</h4>\r\n            <div class=\"contentBox\">\r\n              <div class=\"chapters\" v-if=\"Lesson.HasChapterSubject\">\r\n                <h5>{{ Lesson.ChapterTitle }}</h5>\r\n                <template v-for=\"(s, si) in Subjects\">\r\n                  <h6 :key=\"s.ID\">{{ s.Name }}</h6>\r\n                  <div class=\"ch_list\" :key=\"s.ID\">\r\n                    <ol>\r\n                      <li\r\n                        v-for=\"(c, i) in s.Chapters\"\r\n                        :class=\"{ act: i == 0 && si == 0 }\"\r\n                        :key=\"c.LessonChapterID\"\r\n                      >\r\n                        <router-link\r\n                          :to=\"`/lesson/chapter/${c.LessonChapterID}`\"\r\n                          ><b class=\"ch_name\"\r\n                            >{{ c.ChapterName }}\r\n                            <template v-if=\"c.Learned\">(已觀看)</template></b\r\n                          ><span class=\"time\">{{\r\n                            c.VideoLength | mmss\r\n                          }}</span></router-link\r\n                        >\r\n                      </li>\r\n                    </ol>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n              <div class=\"chapters\" v-else>\r\n                <h5>{{ Lesson.ChapterTitle }}</h5>\r\n                <div class=\"ch_list\">\r\n                  <ol>\r\n                    <li\r\n                      v-for=\"(c, i) in Chapters\"\r\n                      :class=\"{ act: i == 0 }\"\r\n                      :key=\"c.LessonChapterID\"\r\n                    >\r\n                      <router-link :to=\"`/lesson/chapter/${c.LessonChapterID}`\"\r\n                        ><b class=\"ch_name\">{{ c.ChapterName }}</b\r\n                        ><span class=\"time\">{{\r\n                          c.VideoLength | mmss\r\n                        }}</span></router-link\r\n                      >\r\n                    </li>\r\n                  </ol>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"c_intro\">\r\n            <h4>課程簡介</h4>\r\n            <div class=\"contentBox\" v-html=\"Lesson.Brief\"></div>\r\n          </div>\r\n          <div class=\"c_target\">\r\n            <h4>課程目標</h4>\r\n            <div class=\"contentBox\" v-html=\"Lesson.Goal\"></div>\r\n          </div>\r\n          <div class=\"c_student\">\r\n            <h4>課程對象</h4>\r\n            <div class=\"contentBox\" v-html=\"Lesson.Target\"></div>\r\n          </div>\r\n          <div class=\"c_student\" v-if=\"!$user.user\">\r\n            <h4>課程章節</h4>\r\n            <div class=\"contentBox\">\r\n              <div class=\"chapters\" v-if=\"Lesson.HasChapterSubject\">\r\n                <h5>{{ Lesson.ChapterTitle }}</h5>\r\n                <template v-for=\"(s, si) in Subjects\">\r\n                  <h6 :key=\"s.ID\">{{ s.Name }}</h6>\r\n                  <div class=\"ch_list\" :key=\"s.ID\">\r\n                    <ol>\r\n                      <li\r\n                        v-for=\"(c, i) in s.Chapters\"\r\n                        :class=\"{ act: i == 0 && si == 0 }\"\r\n                        :key=\"c.LessonChapterID\"\r\n                      >\r\n                        <router-link\r\n                          :to=\"`/lesson/chapter/${c.LessonChapterID}`\"\r\n                          ><b class=\"ch_name\">{{ c.ChapterName }}</b\r\n                          ><span class=\"time\">{{\r\n                            c.VideoLength | mmss\r\n                          }}</span></router-link\r\n                        >\r\n                      </li>\r\n                    </ol>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n              <div class=\"chapters\" v-else>\r\n                <h5>{{ Lesson.ChapterTitle }}</h5>\r\n                <div class=\"ch_list\">\r\n                  <ol>\r\n                    <li\r\n                      v-for=\"(c, i) in Chapters\"\r\n                      :class=\"{ act: i == 0 }\"\r\n                      :key=\"c.LessonChapterID\"\r\n                    >\r\n                      <router-link :to=\"`/lesson/chapter/${c.LessonChapterID}`\"\r\n                        ><b class=\"ch_name\">{{ c.ChapterName }}</b\r\n                        ><span class=\"time\">{{\r\n                          c.VideoLength | mmss\r\n                        }}</span></router-link\r\n                      >\r\n                    </li>\r\n                  </ol>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"shareBox\">\r\n            <p>課程分享</p>\r\n            <div class=\"shareLinks\">\r\n              <a :href=\"'http://www.facebook.com/share.php?u='+ShareUrl\" target=\"_blank\">\r\n                <img src=\"/img/icon_fb.png\" alt=\"\">\r\n              </a>\r\n              <a :href=\"'http://www.facebook.com/share.php?u='+ShareUrl\" target=\"_blank\" v-if=\"false\">\r\n                <img src=\"/img/icon_ig.png\" alt=\"\">\r\n              </a>\r\n              <a :href=\"'https://social-plugins.line.me/lineit/share?url='+ShareUrl\" target=\"_blank\">\r\n                <img src=\"/img/icon_line.png\" alt=\"\">\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Recommand />\r\n    <div class=\"fixBottom\" v-if=\"Student && Student.IsLearning\">\r\n      <div class=\"container\">\r\n        <router-link\r\n          :class=\"{ off: !Student.Prev }\"\r\n          :to=\"`/lesson/${Student.Prev}`\"\r\n          >上一堂課</router-link\r\n        >\r\n        <router-link\r\n          class=\"goWork\"\r\n          v-if=\"HasHomeWork && Progress == 100\"\r\n          :to=\"`/homework/${Lesson.LessonID}`\"\r\n          >課程習題</router-link\r\n        >\r\n        <router-link\r\n          :class=\"{ off: !Student.Next }\"\r\n          :to=\"`/lesson/${Student.Next}`\"\r\n          >下一堂課</router-link\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Recommand from \"@/components/Recommand.vue\";\r\nimport moment from \"moment\";\r\n\r\nvar lastTime = 0;\r\nexport default {\r\n  components: {\r\n    Recommand,\r\n  },\r\n  metaInfo() {\r\n    return {\r\n      title: this.metaTitle,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      User: null,\r\n      Lesson: null,\r\n      Chapters: [],\r\n      Student: null,\r\n      HasHomeWork: true,\r\n      Subjects: [],\r\n      Progress: 0,\r\n      metaTitle: \"故宮線上學校\",\r\n    };\r\n  },\r\n  async mounted() {\r\n    this.User = this.$user.user;\r\n    this.load();\r\n    document.addEventListener(\"fullscreenchange\", this.onleavefullscreen);\r\n  },\r\n  methods: {\r\n    async load() {\r\n      var id = parseInt(this.$route.params.id);\r\n      var response = await this.$api.getFullLesson(id);\r\n      this.Lesson = response.Lesson;\r\n      this.metaTitle = response.Lesson.LessonName + \" - 故宮線上學校\";\r\n\r\n      var cMap = {};\r\n      response.Chapters.forEach((c) => {\r\n        c.Learned = false;\r\n        cMap[c.LessonChapterID] = c;\r\n      });\r\n\r\n      this.Chapters = response.Chapters;\r\n      if (this.Lesson.HasChapterSubject) {\r\n        var map = {};\r\n        this.Chapters.forEach((c) => {\r\n          var key = c.LessonSubjectID;\r\n          if (!map[key]) {\r\n            map[key] = [];\r\n          }\r\n          map[key].push(c);\r\n        });\r\n        this.Lesson.ChapterSubjects.forEach((s) => {\r\n          s.Chapters = map[s.ID];\r\n          this.Subjects.push(s);\r\n        });\r\n      }\r\n      if (this.$user.user) {\r\n        await this.$api.visit(id);\r\n\r\n        var time = await this.$api.getChapterProgress(\r\n          this.FirstChapter.LessonChapterID\r\n        );\r\n        if (time) {\r\n          this.$nextTick(\r\n            () => (document.querySelector(\"video\").currentTime = time.Time)\r\n          );\r\n        }\r\n\r\n        if (this.$user.user.Type == 2) {\r\n          response = await this.$api.getClassRoomByLessonID(id);\r\n          this.Progress = response.MemberLesson.Progress;\r\n          var room = response.ClassRoom;\r\n          if (moment().isBetween(room.StartTime, room.EndTime)) {\r\n            var index = room.Lessons.indexOf(id);\r\n            var student = {\r\n              IsLearning: true,\r\n              Prev: null,\r\n              Next: null,\r\n            };\r\n            if (index != -1) {\r\n              if (index > 0) {\r\n                student.Prev = room.Lessons[index - 1];\r\n              }\r\n              if (index < room.Lessons.length - 1) {\r\n                student.Next = room.Lessons[index + 1];\r\n              }\r\n            }\r\n            this.Student = student;\r\n\r\n            if (\r\n              !this.Lesson.HasHomeWork ||\r\n              !room.HasHomeWork ||\r\n              room.HomeWorks.indexOf(id) == -1\r\n            ) {\r\n              this.HasHomeWork = false;\r\n            }\r\n          } else {\r\n            this.Student = {\r\n              IsLearning: false,\r\n            };\r\n          }\r\n\r\n          var p = await this.$api.learn(this.FirstChapter.LessonChapterID);\r\n          this.Progress = p;\r\n\r\n          var lc = await this.$api.getLearnedChapter(id);\r\n          lc.forEach((c) => {\r\n            if (cMap[c.LessonChapterID]) {\r\n              cMap[c.LessonChapterID].Learned = true;\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      /*if (this.$route.query.play) {\r\n        $(document).ready(() => {\r\n          document.querySelector(\"video\").play();\r\n        },1000);\r\n      }*/\r\n    },\r\n    fullscreen() {\r\n      if (!document.fullscreenElement) {\r\n        document.getElementById(\"vid-cont\").requestFullscreen();\r\n        $(\"#vid-cont\").addClass(\"fs\");\r\n      } else if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n        $(\"#vid-cont\").removeClass(\"fs\");\r\n      }\r\n    },\r\n    login() {\r\n      alert(\"請先登入\");\r\n      this.$router.push(\"/login\");\r\n    },\r\n    onplay() {\r\n      console.log(\"play\");\r\n      document.getElementById(\"vid-cont\").requestFullscreen();\r\n      $(\"#vid-cont\").addClass(\"fs\");\r\n    },\r\n    onpause() {\r\n      console.log(\"pause\");\r\n      document.exitFullscreen();\r\n      $(\"#vid-cont\").removeClass(\"fs\");\r\n    },\r\n    onprogress(event) {\r\n      console.log(\"progress:\", event);\r\n      if (this.$user.user && this.FirstChapter) {\r\n        var time = new Date().getTime();\r\n        if (time - lastTime > 1000) {\r\n          this.$api.updateChapterProgress({\r\n            LessonChapterID: this.FirstChapter.LessonChapterID,\r\n            Time: document.querySelector(\"video\").currentTime,\r\n            Done: false,\r\n          });\r\n          lastTime = time;\r\n        }\r\n      }\r\n    },\r\n    onleavefullscreen(event) {\r\n      console.log(event);\r\n      if (!document.fullscreenElement) {\r\n        document.querySelector(\"video\").pause();\r\n      }\r\n    },\r\n    onended(event) {\r\n      //console.log(\"end:\", event);\r\n      if (this.$user.user && this.FirstChapter) {\r\n        this.$api.updateChapterProgress({\r\n          LessonChapterID: this.FirstChapter.LessonChapterID,\r\n          Time: document.querySelector(\"video\").currentTime,\r\n          Done: true,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    FirstChapter() {\r\n      return this.Chapters.length > 0 ? this.Chapters[0] : null;\r\n    },\r\n    ShareUrl(){\r\n      return encodeURIComponent( config.host + \"/api/lesson/share/\" + this.$route.params.id);\r\n    }\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.load();\r\n      this.$nextTick(() => {\r\n        $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n      });\r\n    },\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    document.removeEventListener(\"fullscreenchange\", this.onleavefullscreen);\r\n    next();\r\n  },\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Lesson.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Lesson.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lesson.vue?vue&type=template&id=d887fa0e&\"\nimport script from \"./Lesson.vue?vue&type=script&lang=js&\"\nexport * from \"./Lesson.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","load","staticRenderFns","components","LessonSlider","methods","$api","getRecommand","component","Lesson","_f","FirstChapter","VideoUrl","on","onplay","onpause","onprogress","onended","fullscreen","_s","ChapterName","User","_e","login","LessonCategoryID","VideoLength","LessonName","$user","user","HasChapterSubject","ChapterTitle","_l","Subjects","s","si","key","ID","Name","Chapters","c","i","LessonChapterID","class","act","Learned","domProps","Brief","Goal","Target","ShareUrl","Student","IsLearning","off","Prev","HasHomeWork","Progress","LessonID","Next","lastTime","Recommand","metaInfo","title","metaTitle","data","mounted","document","addEventListener","onleavefullscreen","id","parseInt","$route","params","response","getFullLesson","cMap","forEach","map","LessonSubjectID","push","ChapterSubjects","visit","time","getChapterProgress","$nextTick","querySelector","currentTime","Time","Type","getClassRoomByLessonID","MemberLesson","room","ClassRoom","moment","isBetween","StartTime","EndTime","index","Lessons","indexOf","student","length","HomeWorks","p","learn","lc","getLearnedChapter","fullscreenElement","exitFullscreen","$","removeClass","getElementById","requestFullscreen","addClass","alert","$router","console","log","event","Date","getTime","updateChapterProgress","Done","pause","computed","encodeURIComponent","config","host","watch","animate","scrollTop","beforeRouteLeave","to","from","next","removeEventListener"],"sourceRoot":""}