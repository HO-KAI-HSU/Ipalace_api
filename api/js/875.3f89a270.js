"use strict";(self["webpackChunknpm_frontend"]=self["webpackChunknpm_frontend"]||[]).push([[875],{6773:function(s,t,e){e.d(t,{Z:function(){return l}});var a=function(){var s=this,t=s._self._c;return t("div",[t("div",{staticClass:"sayHello"},[t("h3",[t("span",[s._v(s._s(s.$user.user.School)+s._s(s.$user.user.Class))]),s._v(s._s(s.$user.user.Name)),t("span",[s._v("您好")])]),t("p",[s._v("歡迎使用故宮線上學校學生專區")])]),t("div",{staticClass:"tab"},[t("ul",[t("li",[t("router-link",{attrs:{"active-class":"act",to:"/student/class/my"}},[s._v("我的課程")])],1),t("li",[t("router-link",{attrs:{"active-class":"act",to:"/student/class/add"}},[s._v("加入課程")])],1),t("li",[t("router-link",{attrs:{"active-class":"act",to:"/student/history"}},[s._v("上課紀錄")])],1)])])])},o=[],r=e(1001),n={},i=(0,r.Z)(n,a,o,!1,null,null,null),l=i.exports},5875:function(s,t,e){e.r(t),e.d(t,{default:function(){return c}});var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"row"},[t("div",{staticClass:"container coursePageAll"},[s._m(0),t("Header"),t("div",{staticClass:"addClass_student"},[t("div",{staticClass:"container"},[t("div",{staticClass:"addClassInput"},[t("label",[s._v("輸入課程代碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.Keyword,expression:"Keyword"}],attrs:{type:"text",placeholder:"請輸入課程代碼"},domProps:{value:s.Keyword},on:{input:function(t){t.target.composing||(s.Keyword=t.target.value)}}}),t("div",{staticClass:"submitBtn"},[t("a",{attrs:{href:"javascript:void(0);"},on:{click:s.search}},[s._v("搜尋")])])]),s.ClassRoom?t("div",{staticClass:"tableStyle1"},[t("table",[s._m(1),t("tr",[t("td",{attrs:{rowspan:"2"}},[s._v(" "+s._s(s._f("dateFormat")(s.ClassRoom.StartTime))+"~"+s._s(s._f("dateFormat")(s.ClassRoom.EndTime))+" ")]),t("td",{attrs:{rowspan:"2"}},[s._v(s._s(s.Teacher.Name))]),t("td",{attrs:{rowspan:"2"}},[s._v(" "+s._s(s.ClassRoom.LessonTitle)),t("br"),s._v("("+s._s(s.ClassRoom.Code)+") ")]),t("td",{staticClass:"s_courseLink"},[s.Lessons.length>0?t("router-link",{attrs:{to:"/lesson/"+s.Lessons[0].LessonID}},[s._v(s._s(s.Lessons[0].LessonName))]):s._e()],1),s.ClassRoom.HasHomeWork?t("td",{staticClass:"s_courseLink"},[s.Lessons[0].HomeWork?[s.Lessons[0].HomeWork.Answers?t("span",[s._v(" "+s._s(s.Lessons[0].HomeWork.CorrectCount)+"/"+s._s(s.Lessons[0].HomeWork.TotalCount)+" ")]):s.ClassRoom.Expired?t("span",[s._v("未開課")]):t("router-link",{attrs:{to:"/homework/"+s.Lessons[0].LessonID}},[s._v("未完成")])]:s._e()],2):t("td",{staticClass:"s_courseLink"}),t("td",{attrs:{rowspan:"2"}},[s.Added?t("p",[s._v("已加入")]):t("a",{staticClass:"addToMyClass",attrs:{href:"javascript:void(0)"},on:{click:s.add}},[s._v("加入課程")])])]),s._l(s.Lessons,(function(e,a){return t("tr",{directives:[{name:"show",rawName:"v-show",value:a>0,expression:"i > 0"}],key:e.LessonID},[t("td",{staticClass:"s_courseLink"},[t("router-link",{attrs:{to:"/lesson/"+e.LessonID}},[s._v(s._s(e.LessonName))])],1),s.ClassRoom.HasHomeWork?t("td",{staticClass:"s_courseLink"},[e.HomeWork?[e.HomeWork.Answers?t("span",[s._v(" "+s._s(e.HomeWork.CorrectCount)+"/"+s._s(e.HomeWork.TotalCount)+" ")]):s.ClassRoom.Expired?t("span",[s._v("未開課")]):t("router-link",{attrs:{to:"/homework/"+e.LessonID}},[s._v("未完成")])]:s._e()],2):t("td",{staticClass:"s_courseLink"})])}))],2)]):s._e()])])],1)])])},o=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"coursePageTitle"},[t("h3",[s._v("加入課程")])])},function(){var s=this,t=s._self._c;return t("tr",[t("th",[s._v("開課期間")]),t("th",[s._v("教師")]),t("th",{attrs:{width:"25%"}},[s._v("課程主題")]),t("th",{attrs:{width:"25%"}},[s._v("課程內容")]),t("th",[s._v("作業狀態")]),t("th",[s._v("備註")])])}],r=(e(7658),e(6773)),n={components:{Header:r.Z},data(){return{Keyword:"",ClassRoom:null,Teacher:null,Lessons:[],Added:!1}},methods:{async search(){if(this.Keyword)try{var s=await this.$api.getClassRoomByCode(this.Keyword);this.ClassRoom=s.ClassRoom,this.Teacher=s.Teacher;var t={};s.HomeWorks.forEach((s=>t[s.LessonID]=s)),s.Lessons.forEach((s=>{s.HomeWork=t[s.LessonID]})),this.Lessons=s.Lessons,this.Added=s.Added}catch(e){alert("找不到此課程")}},async add(){try{await this.$api.addMyClassRoom(this.ClassRoom.ClassRoomID),this.$router.push("/student/class/my")}catch(s){6==s.Status&&alert("未開課")}}}},i=n,l=e(1001),d=(0,l.Z)(i,a,o,!1,null,null,null),c=d.exports}}]);
//# sourceMappingURL=875.3f89a270.js.map