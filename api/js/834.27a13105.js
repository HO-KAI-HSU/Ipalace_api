"use strict";(self["webpackChunknpm_frontend"]=self["webpackChunknpm_frontend"]||[]).push([[834],{6773:function(s,o,e){e.d(o,{Z:function(){return l}});var t=function(){var s=this,o=s._self._c;return o("div",[o("div",{staticClass:"sayHello"},[o("h3",[o("span",[s._v(s._s(s.$user.user.School)+s._s(s.$user.user.Class))]),s._v(s._s(s.$user.user.Name)),o("span",[s._v("您好")])]),o("p",[s._v("歡迎使用故宮線上學校學生專區")])]),o("div",{staticClass:"tab"},[o("ul",[o("li",[o("router-link",{attrs:{"active-class":"act",to:"/student/class/my"}},[s._v("我的課程")])],1),o("li",[o("router-link",{attrs:{"active-class":"act",to:"/student/class/add"}},[s._v("加入課程")])],1),o("li",[o("router-link",{attrs:{"active-class":"act",to:"/student/history"}},[s._v("上課紀錄")])],1)])])])},n=[],a=e(1001),r={},i=(0,a.Z)(r,t,n,!1,null,null,null),l=i.exports},5834:function(s,o,e){e.r(o),e.d(o,{default:function(){return h}});var t=function(){var s=this,o=s._self._c;return o("div",{staticClass:"main"},[o("div",{staticClass:"row"},[o("div",{staticClass:"container coursePageAll"},[s._m(0),o("Header"),s.UnfinishClassRoom>0&&s.UnfinishHomeWork>0?o("p",{staticClass:"notice"},[s._v(" 您還有"+s._s(s.UnfinishClassRoom)+"堂課、"+s._s(s.UnfinishHomeWork)+"份作業未完成唷！ ")]):0==s.UnfinishClassRoom&&s.UnfinishHomeWork>0?o("p",{staticClass:"notice"},[s._v(" 您還有"+s._s(s.UnfinishHomeWork)+"份作業未完成唷！ ")]):s.UnfinishClassRoom>0&&0==s.UnfinishHomeWork?o("p",{staticClass:"notice"},[s._v(" 您還有"+s._s(s.UnfinishClassRoom)+"堂課未完成唷！ ")]):s._e(),o("div",{staticClass:"tableStyle1"},[o("table",[s._m(1),o("tr",[0==s.ClassRooms.length?o("td",{staticClass:"tableNoContent",attrs:{colspan:"5"}},[s._v("目前沒有課程")]):s._e()]),s._l(s.ClassRooms,(function(e){return s._l(e.LessonList,(function(t,n){return o("tr",{key:t.LessonID},[0==n?[o("td",{attrs:{rowspan:e.Lessons.length}},[s._v(" "+s._s(s._f("dateFormat")(e.StartTime))+"~"+s._s(s._f("dateFormat")(e.EndTime))+" ")]),o("td",{attrs:{rowspan:e.Lessons.length}},[e.Teacher?o("span",[s._v(s._s(e.Teacher.Name))]):s._e()]),o("td",{attrs:{rowspan:e.Lessons.length}},[s._v(" "+s._s(e.LessonTitle)),o("br"),s._v("("+s._s(e.Code)+") ")]),o("td",[o("router-link",{attrs:{to:"/lesson/"+t.LessonID}},[s._v(s._s(t.LessonName))])],1),e.HasHomeWork?o("td",[t.HomeWork?[t.HomeWork.Answers?o("span",[s._v(" "+s._s(t.HomeWork.CorrectCount)+"/"+s._s(t.HomeWork.TotalCount)+" ")]):e.Expired?o("span",[s._v("未開課")]):100==t.Progress?o("router-link",{attrs:{to:"/homework/"+t.LessonID}},[s._v("未完成")]):o("span",[s._v("未完成")])]:o("span",[s._v("-")])],2):o("td",[s._v("-")])]:[o("td",[o("router-link",{attrs:{to:"/lesson/"+t.LessonID}},[s._v(s._s(t.LessonName))])],1),e.HasHomeWork?o("td",[t.HomeWork?[t.HomeWork.Answers?o("span",[s._v(" "+s._s(t.HomeWork.CorrectCount)+"/"+s._s(t.HomeWork.TotalCount)+" ")]):e.Expired?o("span",[s._v("未開課")]):100==t.Progress?o("router-link",{attrs:{to:"/homework/"+t.LessonID}},[s._v("未完成")]):o("span",[s._v("未完成")])]:o("span",[s._v("-")])],2):o("td",[s._v("-")])]],2)}))}))],2)])],1)])])},n=[function(){var s=this,o=s._self._c;return o("div",{staticClass:"coursePageTitle"},[o("h3",[s._v("我的課程")])])},function(){var s=this,o=s._self._c;return o("tr",[o("th",[s._v("開課期間")]),o("th",[s._v("教師")]),o("th",{attrs:{width:"30%"}},[s._v("課程主題")]),o("th",[s._v("課程內容")]),o("th",[s._v("作業狀態")])])}],a=(e(7658),e(6773)),r=e(381),i=e.n(r),l={components:{Header:a.Z},data(){return{ClassRooms:[],UnfinishClassRoom:0,UnfinishHomeWork:0}},mounted(){this.setBase("sSpace page"),this.load()},methods:{async load(){var s=await this.$api.getMyClassRoom(),o={},e={},t={},n={},a={};s.HomeWorks.forEach((s=>t[s.LessonID]=s)),s.MemberLesson.forEach((s=>a[`${s.ClassRoomID}-${s.LessonID}`]=s)),s.Lessons.forEach((s=>{o[s.LessonID]=s,s.HomeWork=t[s.LessonID],s.HomeWork&&!s.HomeWork.Answers&&this.UnfinishHomeWork++})),s.Members.forEach((s=>e[s.MemberID]=s)),s.MyClassRooms.forEach((s=>n[s.ClassRoomID]=s)),s.ClassRooms.forEach((s=>{var t=[];s.Lessons.forEach((s=>t.push(o[s]))),t.forEach((o=>{o.Progress=a[`${s.ClassRoomID}-${o.LessonID}`].Progress||0})),s.LessonList=t,s.Teacher=e[s.TeacherMemberID],s.Expired=i()().isAfter(s.EndTime),s.Progress=0,s.FinishTime=null,n[s.ClassRoomID]&&(s.Progress=n[s.ClassRoomID].Progress,s.FinishTime=n[s.ClassRoomID].FinishTime),s.FinishTime||this.UnfinishClassRoom++})),this.ClassRooms=s.ClassRooms},copy(s){window.utils.copy(s.Code),setTimeout((()=>{alert("課程代碼已複製")}))},async remove(s){await this.$api.delClassRoom(s.ClassRoomID),this.load()}}},m=l,_=e(1001),c=(0,_.Z)(m,t,n,!1,null,null,null),h=c.exports}}]);
//# sourceMappingURL=834.27a13105.js.map