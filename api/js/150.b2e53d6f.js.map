{"version":3,"file":"js/150.b2e53d6f.js","mappings":"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","sources":["webpack://npm.frontend/./src/components/Teacher/Header.vue","webpack://npm.frontend/./src/components/Teacher/Header.vue?90dc","webpack://npm.frontend/./src/views/Teacher/AssignHomework.vue","webpack://npm.frontend/src/views/Teacher/AssignHomework.vue","webpack://npm.frontend/./src/views/Teacher/AssignHomework.vue?8695","webpack://npm.frontend/./src/views/Teacher/AssignHomework.vue?730b","webpack://npm.frontend/./src/plugins/classroom.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"sayHello\"},[_c('h3',[_vm._v(_vm._s(_vm.$user.user.Name)),_c('span',[_vm._v(\"老師您好\")])]),_c('p',[_vm._v(\"歡迎使用故宮線上學校教師專區\")])]),_c('div',{staticClass:\"tab\"},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"active-class\":\"act\",\"to\":\"/teacher/class/my\"}},[_vm._v(\"我的班級\")])],1),_c('li',[_c('router-link',{attrs:{\"active-class\":\"act\",\"to\":\"/teacher/class/create\"}},[_vm._v(\"建立班級\")])],1),_c('li',[_c('router-link',{attrs:{\"active-class\":\"act\",\"to\":\"/teacher/class/trace\"}},[_vm._v(\"學習進度追蹤\")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=08d2488a&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"container coursePageAll\"},[_vm._m(0),_c('Header'),_c('div',{staticClass:\"pageBoxOuter\"},[_vm._m(1),(_vm.classRoom)?_c('div',{staticClass:\"pageBox\"},[_c('div',{staticClass:\"processBar x4\"}),_c('div',{staticClass:\"workCheck\"},[_c('p',[_vm._v(\"請選擇欲指派至【\"+_vm._s(_vm.classRoom.LessonTitle)+\"】課程之作業\")]),_vm._l((_vm.Lessons),function(l){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(l.HasHomeWork),expression:\"l.HasHomeWork\"}],key:l.LessonID,staticClass:\"workCheckItem\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.classRoom.HomeWorks),expression:\"classRoom.HomeWorks\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"value\":l.LessonID,\"checked\":Array.isArray(_vm.classRoom.HomeWorks)?_vm._i(_vm.classRoom.HomeWorks,l.LessonID)>-1:(_vm.classRoom.HomeWorks)},on:{\"change\":function($event){var $$a=_vm.classRoom.HomeWorks,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=l.LessonID,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.classRoom, \"HomeWorks\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.classRoom, \"HomeWorks\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.classRoom, \"HomeWorks\", $$c)}}}}),_vm._v(_vm._s(l.LessonName)+\" - 課後習題 \")])])})],2),_c('div',{staticClass:\"stepControl\"},[_vm._m(2),_c('div',{staticClass:\"confirmBtn\"},[(_vm.IsNew)?_c('a',{staticClass:\"tempSave\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.tempSave}},[_vm._v(\"暫存班級\")]):_vm._e(),(_vm.IsNew)?_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.create}},[_vm._v(\"建立班級\")]):_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.create}},[_vm._v(\"儲存班級\")])])])]):_vm._e()])],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"coursePageTitle\"},[_c('h3',[_vm._v(\"教師專區\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"stepTitle\"},[_c('h4',[_c('span',[_vm._v(\"Step4 - \")]),_vm._v(\"作業指派\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"prevBtn\"},[_c('a',{attrs:{\"href\":\"javascript:history.go(-1);\"}},[_vm._v(\"上一步\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main\">\r\n    <div class=\"row\">\r\n      <div class=\"container coursePageAll\">\r\n        <div class=\"coursePageTitle\">\r\n          <h3>教師專區</h3>\r\n        </div>\r\n        <Header />\r\n        <div class=\"pageBoxOuter\">\r\n          <div class=\"stepTitle\">\r\n            <h4><span>Step4 - </span>作業指派</h4>\r\n          </div>\r\n          <div class=\"pageBox\" v-if=\"classRoom\">\r\n            <div class=\"processBar x4\"></div>\r\n            <div class=\"workCheck\">\r\n              <p>請選擇欲指派至【{{ classRoom.LessonTitle }}】課程之作業</p>\r\n              <div class=\"workCheckItem\" v-for=\"l in Lessons\" :key=\"l.LessonID\" v-show=\"l.HasHomeWork\">\r\n                <label>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    v-model=\"classRoom.HomeWorks\"\r\n                    :value=\"l.LessonID\"\r\n                  />{{ l.LessonName }} - 課後習題\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div class=\"stepControl\">\r\n              <div class=\"prevBtn\">\r\n                <a href=\"javascript:history.go(-1);\">上一步</a>\r\n              </div>\r\n              <div class=\"confirmBtn\">\r\n                <a href=\"javascript:void(0);\" @click=\"tempSave\" v-if=\"IsNew\" class=\"tempSave\">暫存班級</a>\r\n                <a href=\"javascript:void(0);\" @click=\"create\" v-if=\"IsNew\">建立班級</a>\r\n                <a href=\"javascript:void(0);\" @click=\"create\" v-else>儲存班級</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from \"@/components/Teacher/Header.vue\";\r\nimport ClassRoom from \"@/plugins/classroom.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      classRoom: null,\r\n      Lessons: [],\r\n      IsNew : false\r\n    };\r\n  },\r\n  components: {\r\n    Header,\r\n  },\r\n  async mounted() {\r\n    this.setBase(\"tSpace page\");\r\n    this.classRoom = ClassRoom.getClassRoom();\r\n    this.IsNew = ClassRoom.isNewClassRoom();\r\n    var lessons = await this.$api.getLessons(this.classRoom.Lessons);\r\n    var map = {};\r\n    this.classRoom.Lessons.forEach((l) => (map[l] = true));\r\n    lessons.forEach((l) => {\r\n      if (map[l.LessonID]) {\r\n        this.Lessons.push(l);\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    async tempSave() {\r\n      this.classRoom.Status = 0;\r\n      ClassRoom.save();\r\n      if (this.IsNew) {\r\n        await this.$api.createClassRoom(this.classRoom);\r\n      } else {\r\n        await this.$api.updateClassRoom(this.classRoom);\r\n      }\r\n      this.$router.push(\"/teacher/class/my\");\r\n    },\r\n    async create() {\r\n      this.classRoom.Status = 1;\r\n      ClassRoom.save();\r\n      if (this.IsNew) {\r\n        await this.$api.createClassRoom(this.classRoom);\r\n      } else {\r\n        await this.$api.updateClassRoom(this.classRoom);\r\n      }\r\n      this.$router.push(\"/teacher/class/my\");\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AssignHomework.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AssignHomework.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssignHomework.vue?vue&type=template&id=10eb33da&\"\nimport script from \"./AssignHomework.vue?vue&type=script&lang=js&\"\nexport * from \"./AssignHomework.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const CLASSROOM_SESSION_KEY = \"TempClassRoom\";\r\n\r\nexport default {\r\n    storage: sessionStorage,\r\n    classRoom: null,\r\n\r\n    getClassRoom() {\r\n        if (!this.classRoom) {\r\n            var json = this.storage.getItem(CLASSROOM_SESSION_KEY);\r\n            if (json) {\r\n                this.classRoom = JSON.parse(json);\r\n            }\r\n        }\r\n        return this.classRoom;\r\n    },\r\n    async setClassRoom(room, newCode) {\r\n        this.classRoom = room;\r\n        if (newCode) {\r\n            this.classRoom.Code = await $api.getClassRoomCode();\r\n        }\r\n        this.save();\r\n    },\r\n    newInstance() {\r\n        return new Promise(async (resolve, reject) => {\r\n            this.classRoom = {\r\n                ClassRoomID: -1,\r\n                ClassRoomName: '',\r\n                LessonTitle: '',\r\n                StartTime: '',\r\n                EndTime: '',\r\n                Status: 0,\r\n                HasHomeWork: true,\r\n                HomeWorks: [],\r\n                Lessons: [],\r\n                Code: '',\r\n            };\r\n            this.classRoom.Code = await $api.getClassRoomCode();\r\n            resolve(this.classRoom);\r\n        })\r\n    },\r\n    save() {\r\n        if (this.classRoom) {\r\n            this.storage.setItem(CLASSROOM_SESSION_KEY, JSON.stringify(this.classRoom));\r\n        }\r\n    },\r\n    isNewClassRoom() {\r\n        return this.classRoom.ClassRoomID == -1;\r\n    }\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","$user","user","Name","attrs","staticRenderFns","script","component","_m","classRoom","LessonTitle","_l","Lessons","l","directives","name","rawName","value","HasHomeWork","expression","key","LessonID","HomeWorks","domProps","Array","isArray","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","$set","concat","slice","LessonName","IsNew","tempSave","_e","create","data","components","Header","mounted","setBase","ClassRoom","getClassRoom","isNewClassRoom","lessons","$api","getLessons","map","forEach","push","methods","Status","save","createClassRoom","updateClassRoom","$router","CLASSROOM_SESSION_KEY","storage","sessionStorage","json","getItem","JSON","parse","setClassRoom","room","newCode","Code","getClassRoomCode","newInstance","Promise","async","resolve","reject","ClassRoomID","ClassRoomName","StartTime","EndTime","setItem","stringify"],"sourceRoot":""}