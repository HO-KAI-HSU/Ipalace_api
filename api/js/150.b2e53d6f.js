"use strict";(self["webpackChunknpm_frontend"]=self["webpackChunknpm_frontend"]||[]).push([[150],{5464:function(s,a,t){t.d(a,{Z:function(){return l}});var e=function(){var s=this,a=s._self._c;return a("div",[a("div",{staticClass:"sayHello"},[a("h3",[s._v(s._s(s.$user.user.Name)),a("span",[s._v("老師您好")])]),a("p",[s._v("歡迎使用故宮線上學校教師專區")])]),a("div",{staticClass:"tab"},[a("ul",[a("li",[a("router-link",{attrs:{"active-class":"act",to:"/teacher/class/my"}},[s._v("我的班級")])],1),a("li",[a("router-link",{attrs:{"active-class":"act",to:"/teacher/class/create"}},[s._v("建立班級")])],1),a("li",[a("router-link",{attrs:{"active-class":"act",to:"/teacher/class/trace"}},[s._v("學習進度追蹤")])],1)])])])},o=[],i=t(1001),c={},r=(0,i.Z)(c,e,o,!1,null,null,null),l=r.exports},8150:function(s,a,t){t.r(a),t.d(a,{default:function(){return h}});var e=function(){var s=this,a=s._self._c;return a("div",{staticClass:"main"},[a("div",{staticClass:"row"},[a("div",{staticClass:"container coursePageAll"},[s._m(0),a("Header"),a("div",{staticClass:"pageBoxOuter"},[s._m(1),s.classRoom?a("div",{staticClass:"pageBox"},[a("div",{staticClass:"processBar x4"}),a("div",{staticClass:"workCheck"},[a("p",[s._v("請選擇欲指派至【"+s._s(s.classRoom.LessonTitle)+"】課程之作業")]),s._l(s.Lessons,(function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.HasHomeWork,expression:"l.HasHomeWork"}],key:t.LessonID,staticClass:"workCheckItem"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:s.classRoom.HomeWorks,expression:"classRoom.HomeWorks"}],attrs:{type:"checkbox"},domProps:{value:t.LessonID,checked:Array.isArray(s.classRoom.HomeWorks)?s._i(s.classRoom.HomeWorks,t.LessonID)>-1:s.classRoom.HomeWorks},on:{change:function(a){var e=s.classRoom.HomeWorks,o=a.target,i=!!o.checked;if(Array.isArray(e)){var c=t.LessonID,r=s._i(e,c);o.checked?r<0&&s.$set(s.classRoom,"HomeWorks",e.concat([c])):r>-1&&s.$set(s.classRoom,"HomeWorks",e.slice(0,r).concat(e.slice(r+1)))}else s.$set(s.classRoom,"HomeWorks",i)}}}),s._v(s._s(t.LessonName)+" - 課後習題 ")])])}))],2),a("div",{staticClass:"stepControl"},[s._m(2),a("div",{staticClass:"confirmBtn"},[s.IsNew?a("a",{staticClass:"tempSave",attrs:{href:"javascript:void(0);"},on:{click:s.tempSave}},[s._v("暫存班級")]):s._e(),s.IsNew?a("a",{attrs:{href:"javascript:void(0);"},on:{click:s.create}},[s._v("建立班級")]):a("a",{attrs:{href:"javascript:void(0);"},on:{click:s.create}},[s._v("儲存班級")])])])]):s._e()])],1)])])},o=[function(){var s=this,a=s._self._c;return a("div",{staticClass:"coursePageTitle"},[a("h3",[s._v("教師專區")])])},function(){var s=this,a=s._self._c;return a("div",{staticClass:"stepTitle"},[a("h4",[a("span",[s._v("Step4 - ")]),s._v("作業指派")])])},function(){var s=this,a=s._self._c;return a("div",{staticClass:"prevBtn"},[a("a",{attrs:{href:"javascript:history.go(-1);"}},[s._v("上一步")])])}],i=(t(7658),t(5464)),c=t(3525),r={data(){return{classRoom:null,Lessons:[],IsNew:!1}},components:{Header:i.Z},async mounted(){this.setBase("tSpace page"),this.classRoom=c.Z.getClassRoom(),this.IsNew=c.Z.isNewClassRoom();var s=await this.$api.getLessons(this.classRoom.Lessons),a={};this.classRoom.Lessons.forEach((s=>a[s]=!0)),s.forEach((s=>{a[s.LessonID]&&this.Lessons.push(s)}))},methods:{async tempSave(){this.classRoom.Status=0,c.Z.save(),this.IsNew?await this.$api.createClassRoom(this.classRoom):await this.$api.updateClassRoom(this.classRoom),this.$router.push("/teacher/class/my")},async create(){this.classRoom.Status=1,c.Z.save(),this.IsNew?await this.$api.createClassRoom(this.classRoom):await this.$api.updateClassRoom(this.classRoom),this.$router.push("/teacher/class/my")}}},l=r,n=t(1001),m=(0,n.Z)(l,e,o,!1,null,null,null),h=m.exports},3525:function(s,a){const t="TempClassRoom";a.Z={storage:sessionStorage,classRoom:null,getClassRoom(){if(!this.classRoom){var s=this.storage.getItem(t);s&&(this.classRoom=JSON.parse(s))}return this.classRoom},async setClassRoom(s,a){this.classRoom=s,a&&(this.classRoom.Code=await $api.getClassRoomCode()),this.save()},newInstance(){return new Promise((async(s,a)=>{this.classRoom={ClassRoomID:-1,ClassRoomName:"",LessonTitle:"",StartTime:"",EndTime:"",Status:0,HasHomeWork:!0,HomeWorks:[],Lessons:[],Code:""},this.classRoom.Code=await $api.getClassRoomCode(),s(this.classRoom)}))},save(){this.classRoom&&this.storage.setItem(t,JSON.stringify(this.classRoom))},isNewClassRoom(){return-1==this.classRoom.ClassRoomID}}}}]);
//# sourceMappingURL=150.b2e53d6f.js.map