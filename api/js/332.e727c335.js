"use strict";(self["webpackChunknpm_frontend"]=self["webpackChunknpm_frontend"]||[]).push([[332],{5464:function(s,t,a){a.d(t,{Z:function(){return m}});var e=function(){var s=this,t=s._self._c;return t("div",[t("div",{staticClass:"sayHello"},[t("h3",[s._v(s._s(s.$user.user.Name)),t("span",[s._v("老師您好")])]),t("p",[s._v("歡迎使用故宮線上學校教師專區")])]),t("div",{staticClass:"tab"},[t("ul",[t("li",[t("router-link",{attrs:{"active-class":"act",to:"/teacher/class/my"}},[s._v("我的班級")])],1),t("li",[t("router-link",{attrs:{"active-class":"act",to:"/teacher/class/create"}},[s._v("建立班級")])],1),t("li",[t("router-link",{attrs:{"active-class":"act",to:"/teacher/class/trace"}},[s._v("學習進度追蹤")])],1)])])])},o=[],i=a(1001),l={},r=(0,i.Z)(l,e,o,!1,null,null,null),m=r.exports},5332:function(s,t,a){a.r(t),a.d(t,{default:function(){return v}});var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"row"},[t("div",{staticClass:"container coursePageAll"},[s._m(0),t("Header"),t("div",{staticClass:"pageBoxOuter"},[s._m(1),s.classRoom?t("div",{staticClass:"pageBox"},[t("div",{staticClass:"processBar x1"}),t("div",{staticClass:"colx2 stepInput"},[t("div",{staticClass:"formRow"},[t("label",[s._v("班級名稱")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.classRoom.ClassRoomName,expression:"classRoom.ClassRoomName"}],attrs:{type:"text",placeholder:"",required:""},domProps:{value:s.classRoom.ClassRoomName},on:{input:function(t){t.target.composing||s.$set(s.classRoom,"ClassRoomName",t.target.value)}}})]),t("div",{staticClass:"formRow"},[t("label",[s._v("課程主題")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.classRoom.LessonTitle,expression:"classRoom.LessonTitle"}],attrs:{type:"text",placeholder:"",required:""},domProps:{value:s.classRoom.LessonTitle},on:{input:function(t){t.target.composing||s.$set(s.classRoom,"LessonTitle",t.target.value)}}})])]),t("div",{staticClass:"colx2 stepInput"},[t("div",{staticClass:"formRow"},[t("label",[s._v("課程起始時間")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.classRoom.StartTime,expression:"classRoom.StartTime"}],attrs:{type:"date",placeholder:"請輸入課程起始時間",required:""},domProps:{value:s.classRoom.StartTime},on:{input:function(t){t.target.composing||s.$set(s.classRoom,"StartTime",t.target.value)}}})]),t("div",{staticClass:"formRow"},[t("label",[s._v("課程結束時間")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.classRoom.EndTime,expression:"classRoom.EndTime"}],attrs:{type:"date",placeholder:"請輸入課程結束時間",required:""},domProps:{value:s.classRoom.EndTime},on:{input:function(t){t.target.composing||s.$set(s.classRoom,"EndTime",t.target.value)}}})])]),t("div",{staticClass:"stepControl"},[t("div",{staticClass:"nextBtn"},[t("a",{attrs:{href:"javascript:void(0);"},on:{click:s.next}},[s._v("下一步")])])])]):s._e()])],1)])])},o=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"coursePageTitle"},[t("h3",[s._v("教師專區")])])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"stepTitle"},[t("h4",[t("span",[s._v("Step1 - ")]),s._v("建立班級")])])}],i=(a(7658),a(5464)),l=a(3525),r=a(381),m=a.n(r),n={data(){return{classRoom:null}},components:{Header:i.Z},async mounted(){this.setBase("tSpace page");var s=this.$route.name;if("TeacherCreateClass"==s)this.classRoom=await l.Z.newInstance();else if("TeacherCreateClassPrev"==s)this.classRoom=l.Z.getClassRoom(),this.classRoom||(this.classRoom=await l.Z.newInstance());else if("TeacherEditClass"==s){var t=await this.$api.getClassRoom(this.$route.params.id);t.StartTime=m()(t.StartTime).format("YYYY-MM-DD"),t.EndTime=m()(t.EndTime).format("YYYY-MM-DD"),l.Z.setClassRoom(t),this.classRoom=t}else if("TeacherCopyClass"==s){t=await this.$api.getClassRoom(this.$route.params.id);t.StartTime=m()(t.StartTime).format("YYYY-MM-DD"),t.EndTime=m()(t.EndTime).format("YYYY-MM-DD"),t.ClassRoomID=-1,l.Z.setClassRoom(t,!0),this.classRoom=t}},methods:{next(){this.validate(".pageBox")&&(l.Z.save(),this.$router.push("/teacher/class/create/lessons"))}}},c=n,u=a(1001),d=(0,u.Z)(c,e,o,!1,null,null,null),v=d.exports},3525:function(s,t){const a="TempClassRoom";t.Z={storage:sessionStorage,classRoom:null,getClassRoom(){if(!this.classRoom){var s=this.storage.getItem(a);s&&(this.classRoom=JSON.parse(s))}return this.classRoom},async setClassRoom(s,t){this.classRoom=s,t&&(this.classRoom.Code=await $api.getClassRoomCode()),this.save()},newInstance(){return new Promise((async(s,t)=>{this.classRoom={ClassRoomID:-1,ClassRoomName:"",LessonTitle:"",StartTime:"",EndTime:"",Status:0,HasHomeWork:!0,HomeWorks:[],Lessons:[],Code:""},this.classRoom.Code=await $api.getClassRoomCode(),s(this.classRoom)}))},save(){this.classRoom&&this.storage.setItem(a,JSON.stringify(this.classRoom))},isNewClassRoom(){return-1==this.classRoom.ClassRoomID}}}}]);
//# sourceMappingURL=332.e727c335.js.map